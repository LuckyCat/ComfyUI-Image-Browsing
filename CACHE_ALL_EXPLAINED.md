# üéØ –ö–Ω–æ–ø–∫–∞ "Cache All" - –ü–æ–ª–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ

## –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–Ω–æ–ø–∫–∞ "Cache All"

–ö–Ω–æ–ø–∫–∞ **"Cache All"** –≤—ã–ø–æ–ª–Ω—è–µ—Ç **–ø–æ–ª–Ω–æ–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ –ø–∞–ø–æ–∫ –¥–ª—è **–º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –±—Ä–∞—É–∑–∏–Ω–≥–∞** –±–µ–∑ –∑–∞–¥–µ—Ä–∂–µ–∫.

---

## üì¶ –ß—Ç–æ –∫–µ—à–∏—Ä—É–µ—Ç—Å—è

### 1. **–ü—Ä–µ–≤—å—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (Thumbnails)**
- –ì–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –ø—Ä–µ–≤—å—é –≤—Å–µ—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ –≤–∏–¥–µ–æ
- –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –Ω–∞ –¥–∏—Å–∫–µ (2GB cache)
- –†–∞–∑–º–µ—Ä –ø—Ä–µ–≤—å—é –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è (128/256/512px)

### 2. **–°–ø–∏—Å–∫–∏ –ø–∞–ø–æ–∫ (Folder Listings)**
- –°–∫–∞–Ω–∏—Ä—É—é—Ç—Å—è –≤—Å–µ –ø–∞–ø–∫–∏ –≤ `/output`
- –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤, mtime)
- –ö–µ—à–∏—Ä—É—é—Ç—Å—è –≤ localStorage –±—Ä–∞—É–∑–µ—Ä–∞

### 3. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–µ—Ä–µ–≤–∞ –ø–∞–ø–æ–∫**
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –ø–∞–ø–∫–∞—Ö
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤ –≤ –∫–∞–∂–¥–æ–π –ø–∞–ø–∫–µ
- –ë—ã—Å—Ç—Ä–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –¥–µ—Ä–µ–≤—É

---

## ‚ö° –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –§–∞–∑–∞ 1: –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (Fast Scan)
```
1. –ë—ã—Å—Ç—Ä—ã–π –ø—Ä–æ—Ö–æ–¥ –ø–æ –≤—Å–µ–º –ø–∞–ø–∫–∞–º
2. –ü–æ–¥—Å—á–µ—Ç —Ñ–∞–π–ª–æ–≤ (–±–µ–∑ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–µ–≤—å—é)
3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º
```

**–í—Ä–µ–º—è:** ~1-5 —Å–µ–∫—É–Ω–¥ –¥–ª—è 1000 –ø–∞–ø–æ–∫

### –§–∞–∑–∞ 2: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–µ–≤—å—é (Thumbnail Generation)
```
1. –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤ –ø–∞–ø–∫–∞ –∑–∞ –ø–∞–ø–∫–æ–π
2. 4 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –ø–æ—Ç–æ–∫–∞
3. –ü—Ä–æ–ø—É—Å–∫ —É–∂–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö
4. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ç–µ–∫—É—â–µ–π –ø–∞–ø–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

**–í—Ä–µ–º—è:** ~10-60 —Å–µ–∫—É–Ω–¥ –¥–ª—è 1000 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–∑–º–µ—Ä–∞)

### –§–∞–∑–∞ 3: –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (Folder Metadata)
```
1. –°–±–æ—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤—Å–µ—Ö –ø–∞–ø–∫–∞—Ö
2. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage
3. –ö–æ–º–ø—Ä–µ—Å—Å–∏—è JSON (gzip)
```

**–í—Ä–µ–º—è:** ~1-2 —Å–µ–∫—É–Ω–¥—ã

---

## üöÄ –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚úÖ –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ –ø–∞–ø–æ–∫
```
–î–æ Cache All:  200-300ms (HTTP –∑–∞–ø—Ä–æ—Å –∫–∞–∂–¥—ã–π —Ä–∞–∑)
–ü–æ—Å–ª–µ:         0-20ms (–∏–∑ localStorage)
```

### ‚úÖ –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–µ–≤—å—é
```
–î–æ Cache All:  2-5 —Å–µ–∫—É–Ω–¥ (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è on-the-fly)
–ü–æ—Å–ª–µ:         100-500ms (–∏–∑ disk cache)
```

### ‚úÖ –†–∞–±–æ—Ç–∞ offline
```
–î–æ Cache All:  –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ
–ü–æ—Å–ª–µ:         –í—Å–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –¥–æ—Å—Ç—É–ø–Ω–æ –±–µ–∑ —Å–µ—Ä–≤–µ—Ä–∞
```

---

## üìä –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π: 1000 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ 50 –ø–∞–ø–∫–∞—Ö

**–ë–µ–∑ Cache All:**
```
–û—Ç–∫—Ä—ã—Ç–∏–µ –ø–∞–ø–∫–∏ 1:  300ms (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è 20 –ø—Ä–µ–≤—å—é)
–û—Ç–∫—Ä—ã—Ç–∏–µ –ø–∞–ø–∫–∏ 2:  250ms (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è 15 –ø—Ä–µ–≤—å—é)
...
–û—Ç–∫—Ä—ã—Ç–∏–µ –ø–∞–ø–∫–∏ 50: 280ms

–ò—Ç–æ–≥–æ: ~15 —Å–µ–∫—É–Ω–¥ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –æ–∂–∏–¥–∞–Ω–∏—è
```

**–° Cache All:**
```
–ó–∞–ø—É—Å–∫ Cache All: 45 —Å–µ–∫—É–Ω–¥ (–æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ –≤ —Ñ–æ–Ω–µ)

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:
–û—Ç–∫—Ä—ã—Ç–∏–µ –ø–∞–ø–∫–∏ 1:  10ms (–∏–∑ –∫–µ—à–∞)
–û—Ç–∫—Ä—ã—Ç–∏–µ –ø–∞–ø–∫–∏ 2:  5ms (–∏–∑ –∫–µ—à–∞)
...
–û—Ç–∫—Ä—ã—Ç–∏–µ –ø–∞–ø–∫–∏ 50: 8ms

–ò—Ç–æ–≥–æ: <1 —Å–µ–∫—É–Ω–¥—ã –¥–ª—è –≤—Å–µ—Ö –ø–∞–ø–æ–∫! üöÄ
```

---

## üéÆ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤

```
1. –û—Ç–∫—Ä–æ–π—Ç–µ ComfyUI Image Browsing
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Cache All" (–∏–ª–∏ Settings ‚Üí Cache)
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–º–µ—Ä –ø—Ä–µ–≤—å—é (128/256/512px)
4. –ù–∞–∂–º–∏—Ç–µ "Start"
5. –†–∞–±–æ—Ç–∞–π—Ç–µ –¥–∞–ª—å—à–µ - –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–¥–µ—Ç –≤ —Ñ–æ–Ω–µ
```

**–ü—Ä–æ–≥—Ä–µ—Å—Å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ UI:**
- Phase 1: "Scanning folders..."
- Phase 2: "Caching 543/1000..."
- Phase 3: "Done!"

### 2. –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–ï—Å–ª–∏ –≤—ã –∏–∑–º–µ–Ω–∏–ª–∏ —Ñ–∞–π–ª—ã –∏ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–µ–≤—å—é:

**–í–∞—Ä–∏–∞–Ω—Ç A: –ü–µ—Ä–µ–∫—ç—à–∏—Ä–æ–≤–∞—Ç—å –æ–¥–Ω—É –ø–∞–ø–∫—É**
```javascript
await fetch('/image-browsing/recache-folder', {
  method: 'POST',
  body: JSON.stringify({ folder_path: '/output/my_folder' })
})
```

**–í–∞—Ä–∏–∞–Ω—Ç B: –ó–∞–ø—É—Å—Ç–∏—Ç—å Cache All —Å–Ω–æ–≤–∞**
- –£–∂–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –±—É–¥—É—Ç –ø—Ä–æ–ø—É—â–µ–Ω—ã
- –û–±—Ä–∞–±–æ—Ç–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ/–∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ

### 3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ

–ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ ComfyUI:

```javascript
// –í src/main.ts –∏–ª–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
window.addEventListener('load', async () => {
  await new Promise(resolve => setTimeout(resolve, 5000)) // –ñ–¥–µ–º 5 —Å–µ–∫

  // –ó–∞–ø—É—Å–∫–∞–µ–º –≤ —Ñ–æ–Ω–µ
  fetch('/image-browsing/cache-all', {
    method: 'POST',
    body: JSON.stringify({ max_size: 128, cache_folders: true })
  })
})
```

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –≤—Å–µ –∑–∞–∫–µ—à–∏—Ä–æ–≤–∞–Ω–æ

### –°–ø–æ—Å–æ–± 1: DevTools Console

```javascript
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å folder cache
const folderCache = localStorage.getItem('folderCache')
console.log('Cached folders:', Object.keys(JSON.parse(folderCache || '{}')).length)

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å folder metadata
const metadata = localStorage.getItem('folderMetadata')
console.log('Folder metadata:', Object.keys(JSON.parse(metadata || '{}')).length)

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å disk cache (backend)
fetch('/image-browsing/cache-status')
  .then(r => r.json())
  .then(d => console.log('Disk cache:', d.data.cache_info))
```

### –°–ø–æ—Å–æ–± 2: Network Tab

1. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Network
2. –û—Ç–∫—Ä–æ–π—Ç–µ –ª—é–±—É—é –ø–∞–ø–∫—É
3. **–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
   - `(disk cache)` –¥–ª—è –ø—Ä–µ–≤—å—é
   - `304 Not Modified` –¥–ª—è —Å–ø–∏—Å–∫–æ–≤ –ø–∞–ø–æ–∫
   - –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ <50ms

### –°–ø–æ—Å–æ–± 3: UI –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä

–ü–æ—Å–ª–µ Cache All –≤ Settings ‚Üí Cache Info:
```
‚úÖ Cached Files: 1234
‚úÖ Cache Size: 450 MB / 2048 MB
‚úÖ Folders Cached: 56
‚úÖ Status: Ready
```

---

## üíæ –ß—Ç–æ –≥–¥–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è

### Disk Cache (–°–µ—Ä–≤–µ—Ä - 2GB)
```
Location: ComfyUI/custom_nodes/ComfyUI-Image-Browsing/thumbnail_cache/
Content:  –ü—Ä–µ–≤—å—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (.webp)
Cleanup:  LRU –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ 2GB
Persist:  –î–∞ (–ø–µ—Ä–µ–∂–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∏)
```

### localStorage (–ë—Ä–∞—É–∑–µ—Ä - ~5MB)
```
Key: folderCache
Content: –°–ø–∏—Å–∫–∏ —Ñ–∞–π–ª–æ–≤ –≤ –ø–∞–ø–∫–∞—Ö
Cleanup: –ü—Ä–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–∏ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
Persist: –î–∞ (–º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏)

Key: folderMetadata
Content: –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø–∞–ø–æ–∫ (—Å—á–µ—Ç—á–∏–∫–∏)
Cleanup: –†—É—á–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞
Persist: –î–∞
```

### Service Worker Cache (–ë—Ä–∞—É–∑–µ—Ä - ~50MB)
```
Content: HTTP responses
Cleanup: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ LRU
Persist: –î–∞
```

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è

### –ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä –ø—Ä–µ–≤—å—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

–í UI ‚Üí Settings ‚Üí Cache ‚Üí Thumbnail Size:
- **128px** - –ë—ã—Å—Ç—Ä–æ, –º–∞–ª–µ–Ω—å–∫–∏–π —Ä–∞–∑–º–µ—Ä (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- **256px** - –°—Ä–µ–¥–Ω–∏–π –±–∞–ª–∞–Ω—Å
- **512px** - –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ, –º–µ–¥–ª–µ–Ω–Ω–µ–µ

### –ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä disk cache

–í [`py/services.py`](py/services.py) —Å—Ç—Ä–æ–∫–∞ 49:
```python
DEFAULT_MAX_SIZE_GB = 2.0  # –ò–∑–º–µ–Ω–∏—Ç–µ –Ω–∞ –Ω—É–∂–Ω—ã–π (–Ω–∞–ø—Ä–∏–º–µ—Ä 5.0)
```

### –û—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞–ø–æ–∫

–í [`__init__.py`](_.init.py) —Å—Ç—Ä–æ–∫–∞ 526:
```python
cache_folders = data.get("cache_folders", False)  # True ‚Üí False
```

---

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: Cache All –Ω–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞:** –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —Ñ–∞–π–ª–æ–≤ –∏–ª–∏ –º–µ–¥–ª–µ–Ω–Ω—ã–π –¥–∏—Å–∫

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å –≤ Settings ‚Üí Cache
2. –ú–æ–∂–Ω–æ –ø–æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ –ø–∞—É–∑—É –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–æ–∑–∂–µ
3. –£–º–µ–Ω—å—à–∏—Ç–µ —Ä–∞–∑–º–µ—Ä –ø—Ä–µ–≤—å—é –¥–æ 128px

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ—Å–ª–µ Cache All –ø–∞–ø–∫–∏ –≤—Å–µ —Ä–∞–≤–Ω–æ –≥—Ä—É–∑—è—Ç—Å—è –º–µ–¥–ª–µ–Ω–Ω–æ

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```javascript
// 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å localStorage
console.log('Has folderCache:', !!localStorage.getItem('folderCache'))
console.log('Has folderMetadata:', !!localStorage.getItem('folderMetadata'))

// 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ –∫–µ—à–∞
// DevTools ‚Üí Network ‚Üí Size column –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å "(disk cache)"
```

**–†–µ—à–µ–Ω–∏–µ:**
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Cache All –∑–∞–≤–µ—Ä—à–∏–ª—Å—è (Phase: done)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Console –Ω–∞ –æ—à–∏–±–∫–∏
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—á–∏—Å—Ç–∏—Ç—å –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å: `localStorage.clear()`

### –ü—Ä–æ–±–ª–µ–º–∞: localStorage –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω

**–°–∏–º–ø—Ç–æ–º—ã:**
```
Console warning: "localStorage quota exceeded"
```

**–†–µ—à–µ–Ω–∏–µ:**
```javascript
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä
let size = 0
for (let key in localStorage) {
  size += localStorage[key].length
}
console.log('localStorage size:', (size / 1024 / 1024).toFixed(2) + ' MB')

// –û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ
localStorage.removeItem('folderCache')
localStorage.removeItem('prefetchHistory')

// –ó–∞–ø—É—Å—Ç–∏—Ç—å Cache All —Å–Ω–æ–≤–∞
```

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### Cache All –¥–ª—è 1000 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ 50 –ø–∞–ø–∫–∞—Ö

| –≠—Ç–∞–ø | –í—Ä–µ–º—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-------|----------|
| Scan | 2 —Å–µ–∫ | –ë—ã—Å—Ç—Ä—ã–π –ø–æ–¥—Å—á–µ—Ç —Ñ–∞–π–ª–æ–≤ |
| Cache thumbnails (128px) | 30 —Å–µ–∫ | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–µ–≤—å—é |
| Cache thumbnails (256px) | 45 —Å–µ–∫ | –ë–æ–ª—å—à–µ —Ä–∞–∑–º–µ—Ä |
| Cache folder metadata | 1 —Å–µ–∫ | –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö |
| **–ò—Ç–æ–≥–æ (128px)** | **~33 —Å–µ–∫** | –û–¥–Ω–æ—Ä–∞–∑–æ–≤–æ |

### –ü–æ—Å–ª–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è

| –û–ø–µ—Ä–∞—Ü–∏—è | –ë–µ–∑ Cache | –° Cache | –£–ª—É—á—à–µ–Ω–∏–µ |
|----------|-----------|---------|-----------|
| –û—Ç–∫—Ä—ã—Ç—å 1 –ø–∞–ø–∫—É | 300ms | 10ms | **30x** |
| –û—Ç–∫—Ä—ã—Ç—å 10 –ø–∞–ø–æ–∫ | 3 —Å–µ–∫ | 100ms | **30x** |
| –û—Ç–∫—Ä—ã—Ç—å 50 –ø–∞–ø–æ–∫ | 15 —Å–µ–∫ | 500ms | **30x** |
| –†–∞–±–æ—Ç–∞ offline | ‚ùå | ‚úÖ | ‚àû |

---

## üéì Best Practices

### 1. –ó–∞–ø—É—Å–∫–∞–π—Ç–µ Cache All –ø–æ—Å–ª–µ:
- –î–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤
- –†–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –±–∞—Ç—á–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –£—Å—Ç–∞–Ω–æ–≤–∫–∏/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è ComfyUI

### 2. –ü–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å:
- –ï–∂–µ–¥–Ω–µ–≤–Ω–æ (–µ—Å–ª–∏ –∞–∫—Ç–∏–≤–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç–µ)
- –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ (–µ—Å–ª–∏ —Ä–µ–¥–∫–æ –¥–æ–±–∞–≤–ª—è–µ—Ç–µ —Ñ–∞–π–ª—ã)
- –ü–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –∑–∞–º–µ—Ç–∏–ª–∏ –º–µ–¥–ª–µ–Ω–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É)

### 3. –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
- –†–∞–∑–º–µ—Ä –ø—Ä–µ–≤—å—é: **128px** (–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å)
- Disk cache: **2GB** (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è ~10k –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –ø–∞–ø–∫–∞: **–¢–µ–∫—É—â–∞—è** (–±—ã—Å—Ç—Ä–µ–µ –¥–æ—Å—Ç—É–ø –∫ —Ä–∞–±–æ—á–∏–º —Ñ–∞–π–ª–∞–º)

### 4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ Settings ‚Üí Cache Info
- –°–ª–µ–¥–∏—Ç–µ –∑–∞ —Ä–∞–∑–º–µ—Ä–æ–º disk cache
- –û—á–∏—â–∞–π—Ç–µ —Å—Ç–∞—Ä—ã–µ –ø—Ä–µ–≤—å—é –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

---

## üöÄ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**Cache All** - —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è **–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**:

‚úÖ –û–¥–Ω–æ—Ä–∞–∑–æ–≤–æ–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ (30-60 —Å–µ–∫)
‚úÖ –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –±—Ä–∞—É–∑–∏–Ω–≥ –Ω–∞–≤—Å–µ–≥–¥–∞
‚úÖ –†–∞–±–æ—Ç–∞ offline
‚úÖ –≠–∫–æ–Ω–æ–º–∏—è 90% —Ç—Ä–∞—Ñ–∏–∫–∞
‚úÖ 30x —É—Å–∫–æ—Ä–µ–Ω–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–≥—É–ª—è—Ä–Ω–æ –¥–ª—è –ª—É—á—à–µ–≥–æ –æ–ø—ã—Ç–∞! üéâ**
